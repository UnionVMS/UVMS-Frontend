<div class="area-selection-container">
  <div class="area-selection">
    <ul ngbNav #nav="ngbNav" class="nav-tabs">
        <li ngbNavItem>
        <a ngbNavLink>SYSTEM AREAS</a>
        <ng-template ngbNavContent>
          <form class="system-section" #systemAreaMapSelectionForm="ngForm">
            <div class="row">
              <div class="col-md-5">
                <select class="form-control" id="mapLayer" ngModel name="systemMapLayer" #systemMapLayer="ngModel" (change)="onSystemAreaChange($event.target.value)">
                  <option value="" >Area type</option>
                  <option *ngFor="let item of systemLayersList" [value]="item.typeName">{{item.typeName}}</option>
                </select>
              </div>
            </div>
            <div *ngIf="areaType">
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" id="systemSelectionRadio1" [(ngModel)]="systemSelectionCategory" name="systemSelectionCategory" value="systemFromMap">
                <label class="form-check-label" for="systemSelectionRadio1">Select area on map</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="systemSelectionCategory" [(ngModel)]="systemSelectionCategory" id="systemSelectionRadio2" value="systemByProperty">
                <label class="form-check-label" for="systemSelectionRadio2">Search by area properties</label>
              </div>
              <div *ngIf="systemSelectionCategory === 'systemFromMap'">
                <app-area-selection-map [systemAreas]= "systemLayersList"></app-area-selection-map>
              </div>
              <div *ngIf="systemSelectionCategory === 'systemByProperty'">
                <app-area-selection-table [mode]="system" [areaType]="areaType" (selectArea)="selectArea($event)" ></app-area-selection-table>
              </div>
            </div>
          </form>

        </ng-template>
        </li>
        <li ngbNavItem>
        <a ngbNavLink>USER AREAS</a>
        <ng-template ngbNavContent>
          <form>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="userSelectionCheckbox1" [(ngModel)]="userSelectionCategory" name="userSelectionCategory" value="userFromMap">
              <label class="form-check-label" for="userSelectionCheckbox1">Select area on map</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="userSelectionCheckbox2" [(ngModel)]="userSelectionCategory" name="userSelectionCategory" value="userByProperty">
              <label class="form-check-label" for="userSelectionCheckbox2">Search by area properties</label>
            </div>
            <div *ngIf="userSelectionCategory === 'userFromMap'">
              <app-area-selection-map [userAreas]= "userLayersList"></app-area-selection-map>
            </div>
            <div *ngIf="userSelectionCategory === 'userByProperty'">
              <app-area-selection-table [mode]="user" (selectArea)="selectArea($event)"></app-area-selection-table>
            </div>
          </form>
        </ng-template>
        </li>
    </ul>
    <div [ngbNavOutlet]="nav"></div>
  </div>
  <div class="area-selection-list">
    <div class="card">
      <div class="card-header">
        <div>
          <b>AREA SELECTION</b>
          <span class="badge badge-primary">{{selectedAreas.length}}</span>
        </div>
        <div>Clear All</div>
      </div>
      <div class="card-body">

        <div class="alert alert-secondary" *ngFor="let item of selectedAreas; let i = index" role="alert">
          <a  class="btn btn-primary"  (click)="removeArea()">
            <fa-icon class="password-icon" [icon]="faTimes"></fa-icon>
          </a>
          {{item.name}}
        </div>
      </div>
    </div>
  </div>


</div>


