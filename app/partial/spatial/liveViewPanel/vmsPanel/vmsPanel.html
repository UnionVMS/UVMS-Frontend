<!--
Developed with the contribution of the European Commission - Directorate General for Maritime Affairs and Fisheries
Â© European Union, 2015-2016.

This file is part of the Integrated Fisheries Data Management (IFDM) Suite. The IFDM Suite is free software: you can
redistribute it and/or modify it under the terms of the GNU General Public License as published by the
Free Software Foundation, either version 3 of the License, or any later version. The IFDM Suite is distributed in
the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details. You should have received a
copy of the GNU General Public License along with the IFDM Suite. If not, see <http://www.gnu.org/licenses/>.
-->
<div ng-controller="VmspanelCtrl" class="tabular-view">
	<!--<loading-panel type="LiveviewMap" class="vms-panel-loading"></loading-panel>-->
	<div class="modal-header" ng-class="{'tab-panel-layout': !isModal}">
        <div class="pointer pull-right" ng-click="cancel()" ng-show="isModal">
             <i class="fa fa-times closeicon"></i>
        </div>
        <div class="pointer collapseicon pull-right" ng-click="toggleCollapse()" ng-show="isModal">
             <i class="fa closeicon" ng-class="{'fa-angle-up': !modalCollapsed, 'fa-angle-down': modalCollapsed}"></i>
        </div>
        <!-- TABS -->
		<ul class="nav nav-tabs top-tabs" role="tablist">
			<li ng-repeat="tab in vmsTabMenu" ng-show="isTabVisible('{{tab.tab}}')" class="vmssourcetab" ng-click="selectVmsTab(tab.tab)" ng-class="{'active': selectedVmsTab === '{{tab.tab}}'}"><a>{{tab.title}}</a></li>
		</ul>
    </div>
    <div class="modal-body" ng-hide="modalCollapsed">
    	<!-- POSITIONS TABLE -->
		<div class="row" ng-show="isVmsTabSelected('MOVEMENTS')" st-table="displayedPositions" st-safe-src="executedReport.positions" st-set-filter="stFieldSearchGeoJson">
			<div class="table-responsive-force">
				<table class="table table-striped table-condensed">
					<thead>
						<tr class="with-bottom-border row">
							<th colspan="15" class="table-tools">
								<i ng-click="toggleFiltersRow('positions')">{{isPosFilterVisible === false ? 'spatial.table_filters_activate' : 'spatial.table_filters_deactivate' | i18n}}</i>
							</th>
							<th>
								<div class="btnTools btn btn-default btn-xs" ng-show="isAllowed('Reporting', 'EXPORT_VMS_REPORT_DATA')" st-export-data export-fn="exportAsCSV(vmsType, data)" vms-type="positions">
									<i class="fa fa-download" title="{{'spatial.tab_vms_export_csv' | i18n}}"></i>
								</div>
							</th>
						</tr>
						<tr ng-show="isPosFilterVisible" class="no-border row">
							<th colspan="16">
								<div id="posFiltersForm{{isModal ? 'Modal' : ''}}" class="filter-form">
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.positions.fs">
										<input name="countryCode" placeholder="{{'spatial.tab_vms_pos_table_header_fs' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_fs' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.positions.extMark">
										<input name="externalMarking" placeholder="{{'spatial.tab_vms_pos_table_header_ext_mark' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_ext_mark' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.positions.ircs">
										<input name="ircs" placeholder="{{'spatial.tab_vms_pos_table_header_ircs' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_ircs' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.positions.cfr">
										<input name="cfr" placeholder="{{'spatial.tab_vms_pos_table_header_cfr' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_cfr' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.positions.posTime">
										<datepicker-input time="true" model="startDate" max-date="endDate" placeholder="{{'spatial.table_filter_start_date' | i18n }}" ng-change-callback="resetDateTimePicker" input-field-id="vms-panel-filter-start-date-picker{{isModal ? '-modal' : ''}}"></datepicker-input>
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.table_filter_start_date' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.positions.posTime">
										<datepicker-input time="true" model="endDate" min-date="startDate" placeholder="{{'spatial.table_filter_end_date' | i18n }}" ng-change-callback="resetDateTimePicker" input-field-id="vms-panel-filter-end-date-picker{{isModal ? '-modal' : ''}}"></datepicker-input>
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.table_filter_end_date' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.positions.name">
										<input name="name" placeholder="{{'spatial.tab_vms_pos_table_header_name' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_name' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<div class="col-md-2 st-table-filters coord-dd" ng-show="attrVisibility.positions.lat && decimalDegrees">
										<input name="lat|dd" placeholder="{{'spatial.tab_vms_pos_table_header_lat' | i18n }}" class="input-sm form-control" type="search">
										<a href="" id="qtip-lat-dd" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_lat_dd_qtip' | i18n }}" class="info-qtip qtip-blue coordsTip"><i class="fa fa-question-circle"></i></a>
									</div>
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.positions.lon && decimalDegrees">
										<input name="lon|dd" placeholder="{{'spatial.tab_vms_pos_table_header_lon' | i18n }}" class="input-sm form-control" type="search">
										<a href="" id="qtip-lon-dd" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_lon_dd_qtip' | i18n }}" class="info-qtip qtip-blue coordsTip"><i class="fa fa-question-circle"></i></a>
									</div>
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.positions.lat && !decimalDegrees">
										<div class="row">
											<div class="col-md-12" ng-class="{'twin-controls': focusedLat}">
												<div class="col-md-3 coord-label">{{'spatial.tab_vms_pos_table_header_lat' | i18n }}</div>
												<div class="col-md-4 coord-deg">
													<input name="lat|deg" class="input-sm form-control" type="search" ng-focus="focusedLat = true" ng-blur="focusedLat = false">
												</div>
												<div class="col-md-5 coord-min">
													<input name="lat|min" class="input-sm form-control coord-min" type="search" ng-focus="focusedLat = true" ng-blur="focusedLat = false">
												</div>
											</div>
											<a href="" id="qtip-lat-ddm" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_lat_ddm_qtip' | i18n }}" class="info-qtip qtip-blue coordsTip"><i class="fa fa-question-circle"></i></a>
										</div>
									</div>
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.positions.lon && !decimalDegrees">
										<div class="row">
											<div class="col-md-12" ng-class="{'twin-controls': focusedLon}">
												<div class="col-md-3 coord-label">{{'spatial.tab_vms_pos_table_header_lon' | i18n }}</div>
												<div class="col-md-4 coord-deg">
													<input name="lon|deg" class="input-sm form-control" type="search" ng-focus="focusedLon = true" ng-blur="focusedLon = false">
												</div>
												<div class="col-md-5 coord-min">
													<input name="lon|min" class="input-sm form-control coord-min" type="search" ng-focus="focusedLon = true" ng-blur="focusedLon = false">
												</div>
											</div>
											<a href="" id="qtip-lon-ddm" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_lon_ddm_qtip' | i18n }}" class="info-qtip qtip-blue coordsTip"><i class="fa fa-question-circle"></i></a>
										</div>
									</div>
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.positions.stat">
										<input name="status" placeholder="{{'spatial.tab_vms_pos_table_header_status' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_status' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.positions.m_spd">
										<input name="reportedSpeed" placeholder="{{'spatial.tab_vms_pos_table_header_measured_speed' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_measured_speed' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.positions.c_spd">
										<input name="calculatedSpeed" placeholder="{{'spatial.tab_vms_pos_table_header_calculated_speed' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_calculated_speed' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.positions.crs">
										<input name="reportedCourse" placeholder="{{'spatial.tab_vms_pos_table_header_course' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_course' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.positions.msg_tp">
										<input name="movementType" placeholder="{{'spatial.tab_vms_pos_table_header_msg_type' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_msg_type' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.positions.act_tp">
										<input name="activityType" placeholder="{{'spatial.tab_vms_pos_table_header_activity_type' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_activity_type' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.positions.source">
										<input name="source" placeholder="{{'spatial.tab_vms_pos_table_header_source' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_source' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<div class="col-md-12 vms-search-btns">
										<button type="button" class="btn btn-default" ng-click="getFilters('positions')">
											<span class="fa fa-search"></span>&nbsp;
											<span>{{'spatial.reports_table_search_header' | i18n}}</span>
										</button>
										<input id="positionsFilters{{isModal ? 'Modal' : ''}}" st-search="positions" class="hidden-st-control" type="search">
										<st-reset-search form-id="posFiltersForm{{isModal ? 'Modal' : ''}}" clear-dates="clearDateFilters()"></st-reset-search>
				        			</div>
			        			</div>
							</th>
						</tr>
						<tr class="row">
							<th lr-drag-src="headers" lr-drop-target="headers" ng-repeat="column in attrVisibility.positionsColumns" ng-show="attrVisibility.positions[column]">
								<div st-sort="properties.countryCode" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.positions.fs" ng-if="column === 'fs'">{{'spatial.tab_vms_pos_table_header_fs' | i18n }}</div>
								<div st-sort="properties.externalMarking" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.positions.extMark" ng-if="column === 'extMark'">{{'spatial.tab_vms_pos_table_header_ext_mark' | i18n }}</div>
								<div st-sort="properties.ircs" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.positions.ircs" ng-if="column === 'ircs'">{{'spatial.tab_vms_pos_table_header_ircs' | i18n }}</div>
								<div st-sort="properties.cfr" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.positions.cfr" ng-if="column === 'cfr'">{{'spatial.tab_vms_pos_table_header_cfr' | i18n }}</div>
								<div st-sort="properties.name" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.positions.name" ng-if="column === 'name'">{{'spatial.tab_vms_pos_table_header_name' | i18n }}</div>
								<div st-sort="properties.positionTime" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.positions.posTime" ng-if="column === 'posTime'">{{'spatial.tab_vms_pos_table_header_date' | i18n }}</div>
								<div st-sort="geometry.coordinates[1]" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.positions.lat" ng-if="column === 'lat'">{{'spatial.tab_vms_pos_table_header_lat' | i18n }}</div>
								<div st-sort="geometry.coordinates[0]" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.positions.lon" ng-if="column === 'lon'">{{'spatial.tab_vms_pos_table_header_lon' | i18n }}</div>
								<div st-sort="properties.status" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.positions.stat" ng-if="column === 'stat'">{{'spatial.tab_vms_pos_table_header_status' | i18n }}</div>
								<div st-sort="properties.reportedSpeed" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.positions.m_spd" ng-if="column === 'm_spd'">{{'spatial.tab_vms_pos_table_header_measured_speed' | i18n }}</div>
								<div st-sort="properties.calculatedSpeed" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.positions.c_spd" ng-if="column === 'c_spd'">{{'spatial.tab_vms_pos_table_header_calculated_speed' | i18n }}</div>
								<div st-sort="properties.reportedCourse" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.positions.crs" ng-if="column === 'crs'">{{'spatial.tab_vms_pos_table_header_course' | i18n }}</div>
								<div st-sort="properties.movementType" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.positions.msg_tp" ng-if="column === 'msg_tp'">{{'spatial.tab_vms_pos_table_header_msg_type' | i18n }}</div>
								<div st-sort="properties.activityType" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.positions.act_tp" ng-if="column === 'act_tp'">{{'spatial.tab_vms_pos_table_header_activity_type' | i18n }}</div>
								<div st-sort="properties.source" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.positions.source" ng-if="column === 'source'">{{'spatial.tab_vms_pos_table_header_source' | i18n }}</div>
							</th>
							<th style="min-width:80px;" ng-show="repNav.isViewVisible('mapPanel')">{{'spatial.table_header_actions' | i18n }}</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-if="!displayedPositions.length && !executedReport.isReportExecuting" class="row">
							<td colspan="16">{{'spatial.table_no_data' | i18n}}</td>
						</tr>
						<tr ng-repeat="position in displayedPositions" class="row">
							<td ng-repeat="column in attrVisibility.positionsColumns" ng-show="attrVisibility.positions[column]">
								<div ng-show="attrVisibility.positions.fs" ng-if="column === 'fs'">{{ position.properties.countryCode }}</div>
								<div ng-show="attrVisibility.positions.extMark" ng-if="column === 'extMark'">{{ position.properties.externalMarking }}</div>
								<div ng-show="attrVisibility.positions.ircs" ng-if="column === 'ircs'">{{ position.properties.ircs }}</div>
								<div ng-show="attrVisibility.positions.cfr" ng-if="column === 'cfr'">{{ position.properties.cfr }}</div>
								<div ng-show="attrVisibility.positions.name" ng-if="column === 'name'">{{ position.properties.name }}</div>
								<div ng-show="attrVisibility.positions.posTime" ng-if="column === 'posTime'">{{ position.properties.positionTime | stDateUtc}}</div>
								<div ng-show="attrVisibility.positions.lat" ng-if="column === 'lat'">{{ position.geometry.coordinates[1] | confCoordinateFormat}}</div>
								<div ng-show="attrVisibility.positions.lon" ng-if="column === 'lon'">{{ position.geometry.coordinates[0] | confCoordinateFormat}}</div>
								<div ng-show="attrVisibility.positions.stat" ng-if="column === 'stat'">{{ position.properties.status }}</div>
								<div ng-show="attrVisibility.positions.m_spd" ng-if="column === 'm_spd'">{{ position.properties.reportedSpeed | stSpeedUnit: 5}}</div>
								<div ng-show="attrVisibility.positions.c_spd" ng-if="column === 'c_spd'">{{ position.properties.calculatedSpeed | stSpeedUnit : 5}}</div>
								<div ng-show="attrVisibility.positions.crs" ng-if="column === 'crs'">{{ position.properties.reportedCourse }}&deg;</div>
								<div ng-show="attrVisibility.positions.msg_tp" ng-if="column === 'msg_tp'">{{ position.properties.movementType }}</div>
								<div ng-show="attrVisibility.positions.act_tp" ng-if="column === 'act_tp'">{{ position.properties.activityType }}</div>
								<div ng-show="attrVisibility.positions.source" ng-if="column === 'source'">{{ position.properties.source }}</div>
							</td>
							<td style="min-width:80px;" ng-show="repNav.isViewVisible('mapPanel')">
								<button type="button" class="btn btn-default btn-xs btn-bottom-mg" title="{{'spatial.tab_vms_pos_table_zoom_btn_title' | i18n }}" ng-click="zoomTo($index, 'POSITION')"><span class="fa fa-search-plus"></span></button>
								<button type="button" class="btn btn-default btn-xs btn-bottom-mg" title="{{'spatial.tab_vms_pos_table_pan_btn_title' | i18n }}" ng-click="panTo($index, 'POSITION')"><span class="fa fa-crosshairs"></span></button>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div>
				<div st-pagination st-items-by-page="itemsByPageModal" st-template="partial/common/reportsPagination/reportsPagination.html"></div>
			</div>
		</div>
		
		<!-- SEGMENTS TABLE -->
		<div class="row" ng-show="isVmsTabSelected('SEGMENTS')" st-table="displayedSegments" st-safe-src="executedReport.segments" st-set-filter="stFieldSearchGeoJson">
			<div class="table-responsive-force">
				<table class="table table-striped table-condensed">
					<thead>
						<tr class="with-bottom-border row">
							<th colspan="10" class="table-tools">
								<i ng-click="toggleFiltersRow('segments')">{{isSegFilterVisible === false ? 'spatial.table_filters_activate' : 'spatial.table_filters_deactivate' | i18n}}</i>
							</th>
							<th>
								<div class="btnTools btn btn-default btn-xs" ng-show="isAllowed('Reporting', 'EXPORT_VMS_REPORT_DATA')" st-export-data export-fn="exportAsCSV(vmsType, data)" vms-type="segments">
									<i class="fa fa-download" title="{{'spatial.tab_vms_export_csv' | i18n}}"></i>
								</div>
							</th>
						</tr>
						<tr ng-show="isSegFilterVisible" class="no-border row">
				        	<th colspan="11">
				        		<div id="segFiltersForm{{isModal ? 'Modal' : ''}}" class="filter-form">
				        			<div class="col-md-2 st-table-filters" ng-show="attrVisibility.segments.fs">
					        			<input name="countryCode" placeholder="{{'spatial.tab_vms_pos_table_header_fs' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_fs' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
					        		<div class="col-md-2 st-table-filters" ng-show="attrVisibility.segments.extMark">
					        			<input name="externalMarking" placeholder="{{'spatial.tab_vms_pos_table_header_ext_mark' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_ext_mark' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
					        		<div class="col-md-2 st-table-filters" ng-show="attrVisibility.segments.ircs">
					        			<input name="ircs" placeholder="{{'spatial.tab_vms_pos_table_header_ircs' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_ircs' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
					        		<div class="col-md-2 st-table-filters" ng-show="attrVisibility.segments.cfr">
					        			<input name="cfr" placeholder="{{'spatial.tab_vms_pos_table_header_cfr' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_cfr' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>	
					        		</div>
					        		<div class="col-md-2 st-table-filters" ng-show="attrVisibility.segments.name">
					        			<input name="name" placeholder="{{'spatial.tab_vms_pos_table_header_name' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_name' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
					        		<div class="col-md-2 st-table-filters" ng-show="attrVisibility.segments.dist">
					        			<input name="distance" placeholder="{{'spatial.tab_vms_seg_table_header_distance' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_seg_table_header_distance' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
					        		<div class="col-md-2 st-table-filters" ng-show="attrVisibility.segments.dur">
					        			<input name="duration" placeholder="{{'spatial.tab_vms_seg_table_header_duration' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_seg_table_header_duration' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
					        		<div class="col-md-2 st-table-filters" ng-show="attrVisibility.segments.spd">
					        			<input name="speedOverGround" placeholder="{{'spatial.tab_vms_seg_table_header_speed_ground' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_seg_table_header_speed_ground' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
					        		<div class="col-md-2 st-table-filters" ng-show="attrVisibility.segments.crs">
					        			<input name="courseOverGround" placeholder="{{'spatial.tab_vms_seg_table_header_course_ground' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_seg_table_header_course_ground' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
					        		<div class="col-md-2 st-table-filters" ng-show="attrVisibility.segments.cat">
					        			<input name="segmentCategory" placeholder="{{'spatial.tab_vms_seg_table_header_category' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_seg_table_header_category' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
					        		<div class="col-md-12 vms-search-btns">
										<button type="button" class="btn btn-default" ng-click="getFilters('segments')">
											<span class="fa fa-search"></span>&nbsp;
											<span>{{'spatial.reports_table_search_header' | i18n}}</span>
										</button>
										<input id="segmentsFilters{{isModal ? 'Modal' : ''}}" st-search="segments" class="hidden-st-control" type="search">
										<st-reset-search form-id="segFiltersForm{{isModal ? 'Modal' : ''}}"></st-reset-search>
				        			</div>
				        		</div>
				        	</th>
				    	</tr>
				        <tr class="row">
				        	<th lr-drag-src="headers" lr-drop-target="headers" ng-repeat="column in attrVisibility.segmentsColumns">
					            <div st-sort="properties.countryCode" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.segments.fs" ng-if="column === 'fs'">{{'spatial.tab_vms_pos_table_header_fs' | i18n }}</div>
					            <div st-sort="properties.externalMarking" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.segments.extMark" ng-if="column === 'extMark'">{{'spatial.tab_vms_pos_table_header_ext_mark' | i18n }}</div>
					            <div st-sort="properties.ircs" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.segments.ircs" ng-if="column === 'ircs'">{{'spatial.tab_vms_pos_table_header_ircs' | i18n }}</div>
					            <div st-sort="properties.cfr" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.segments.cfr" ng-if="column === 'cfr'">{{'spatial.tab_vms_pos_table_header_cfr' | i18n }}</div>
					            <div st-sort="properties.name" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.segments.name" ng-if="column === 'name'">{{'spatial.tab_vms_pos_table_header_name' | i18n }}</div>
					            <div st-sort="properties.distance" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.segments.dist" ng-if="column === 'dist'">{{'spatial.tab_vms_seg_table_header_distance' | i18n }}</div>
					            <div st-sort="properties.duration" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.segments.dur" ng-if="column === 'dur'">{{'spatial.tab_vms_seg_table_header_duration' | i18n }}</div>
					            <div st-sort="properties.speedOverGround" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.segments.spd" ng-if="column === 'spd'">{{'spatial.tab_vms_seg_table_header_speed_ground' | i18n }}</div>
					            <div st-sort="properties.courseOverGround" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.segments.crs" ng-if="column === 'crs'">{{'spatial.tab_vms_seg_table_header_course_ground' | i18n }}</div>
					            <div st-sort="properties.segmentCategory" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.segments.cat" ng-if="column === 'cat'">{{'spatial.tab_vms_seg_table_header_category' | i18n }}</div>
					        </th>
					        <th style="min-width:80px;" ng-show="repNav.isViewVisible('mapPanel')">{{'spatial.table_header_actions' | i18n }}</th>
				       </tr>
					</thead>
					<tbody>
			    		<tr ng-if="!displayedSegments.length && !executedReport.isReportExecuting" class="row">
							<td colspan="11">{{'spatial.table_no_data' | i18n}}</td>
						</tr>
				        <tr ng-repeat="segment in displayedSegments" class="row">
				        	<td ng-repeat="column in attrVisibility.segmentsColumns">
					        	<div ng-show="attrVisibility.segments.fs" ng-if="column === 'fs'">{{ segment.properties.countryCode }}</div>
					        	<div ng-show="attrVisibility.segments.extMark" ng-if="column === 'extMark'">{{ segment.properties.externalMarking }}</div>
					            <div ng-show="attrVisibility.segments.ircs" ng-if="column === 'ircs'">{{ segment.properties.ircs }}</div>
					            <div ng-show="attrVisibility.segments.cfr" ng-if="column === 'cfr'">{{ segment.properties.cfr }}</div>
					            <div ng-show="attrVisibility.segments.name" ng-if="column === 'name'">{{ segment.properties.name }}</div>
					            <div ng-show="attrVisibility.segments.dist" ng-if="column === 'dist'">{{ segment.properties.distance | stDistanceUnit : 5 }}</div>
					            <div ng-show="attrVisibility.segments.dur" ng-if="column === 'dur'">{{ segment.properties.duration | stHumanizeTime }}</div>
					            <div ng-show="attrVisibility.segments.spd" ng-if="column === 'spd'">{{ segment.properties.speedOverGround | stSpeedUnit : 5 }}</div>
					            <div ng-show="attrVisibility.segments.crs" ng-if="column === 'crs'">{{ segment.properties.courseOverGround }}&deg;</div>
					            <div ng-show="attrVisibility.segments.cat" ng-if="column === 'cat'">{{ segment.properties.segmentCategory }}</div>
					        </td>
				            <td style="min-width:80px;" ng-show="repNav.isViewVisible('mapPanel')">
				            	<button type="button" class="btn btn-default btn-xs btn-bottom-mg" title="{{'spatial.tab_vms_seg_table_zoom_btn_title' | i18n }}" ng-click="zoomTo($index, 'SEGMENT')"><span class="fa fa-search-plus"></span></button>
				            	<button type="button" class="btn btn-default btn-xs btn-bottom-mg" title="{{'spatial.tab_vms_seg_table_pan_btn_title' | i18n }}" ng-click="panTo($index, 'SEGMENT')"><span class="fa fa-crosshairs"></span></button>
				            </td>
				        </tr>
			    	</tbody>
				</table>
			</div>
			<div>
				<div st-pagination st-items-by-page="itemsByPageModal" st-template="partial/common/reportsPagination/reportsPagination.html"></div>
			</div>
		</div>
		
		<!-- TRACKS TABLE -->
		<div class="row" ng-show="isVmsTabSelected('TRACKS')" st-table="displayedTracks" st-safe-src="executedReport.tracks" st-set-filter="stFieldSearchGeoJson">
			<div class="table-responsive-force">
				<table class="table table-striped table-condensed">
					<thead>
						<tr class="with-bottom-border row">
							<th colspan="8" class="table-tools">
								<i ng-click="toggleFiltersRow('tracks')">{{isTrackFilterVisible === false ? 'spatial.table_filters_activate' : 'spatial.table_filters_deactivate' | i18n}}</i>
							</th>
							<th>
								<div class="btnTools btn btn-default btn-xs" ng-show="isAllowed('Reporting', 'EXPORT_VMS_REPORT_DATA')" st-export-data export-fn="exportAsCSV(vmsType, data)" vms-type="tracks">
									<i class="fa fa-download" title="{{'spatial.tab_vms_export_csv' | i18n}}"></i>
								</div>
							</th>
						</tr>
						<tr ng-show="isTrackFilterVisible" class="no-border row">
				        	<th colspan="9">
				        		<div id="trackFiltersForm{{isModal ? 'Modal' : ''}}" class="filter-form">
					        		<div class="col-md-2 st-table-filters" ng-show="attrVisibility.tracks.fs">
					        			<input name="countryCode" placeholder="{{'spatial.tab_vms_pos_table_header_fs' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_fs' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
					        		<div class="col-md-2 st-table-filters" ng-show="attrVisibility.tracks.extMark">
					        			<input name="externalMarking" placeholder="{{'spatial.tab_vms_pos_table_header_ext_mark' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_ext_mark' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
					        		<div class="col-md-2 st-table-filters" ng-show="attrVisibility.tracks.ircs">
					        			<input name="ircs" placeholder="{{'spatial.tab_vms_pos_table_header_ircs' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_ircs' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
					        		<div class="col-md-2 st-table-filters" ng-show="attrVisibility.tracks.cfr">
					        			<input name="cfr" placeholder="{{'spatial.tab_vms_pos_table_header_cfr' | i18n }}" class="input-sm form-control" type="search">	
					        			<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_cfr' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
					        		<div class="col-md-2 st-table-filters" ng-show="attrVisibility.tracks.name">
					        			<input name="name" placeholder="{{'spatial.tab_vms_pos_table_header_name' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_name' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
					        		<div class="col-md-2 st-table-filters" ng-show="attrVisibility.tracks.dist">
					        			<input name="distance" placeholder="{{'spatial.tab_vms_seg_table_header_distance' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_seg_table_header_distance' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
					        		<div class="col-md-2 st-table-filters" ng-show="attrVisibility.tracks.dur">
					        			<input name="duration" placeholder="{{'spatial.tab_vms_seg_table_header_duration' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_seg_table_header_duration' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
					        		<div class="col-md-2 st-table-filters" ng-show="attrVisibility.tracks.timeSea">
					        			<input name="totalTimeAtSea" placeholder="{{'spatial.tab_vms_tracks_table_header_time_at_sea' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_tracks_table_header_time_at_sea' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
					        		<div class="col-md-12 vms-search-btns">
										<button type="button" class="btn btn-default" ng-click="getFilters('tracks')">
											<span class="fa fa-search"></span>&nbsp;
											<span>{{'spatial.reports_table_search_header' | i18n}}</span>
										</button>
										<input id="tracksFilters{{isModal ? 'Modal' : ''}}" st-search="tracks" class="hidden-st-control" type="search">
										<st-reset-search form-id="trackFiltersForm{{isModal ? 'Modal' : ''}}"></st-reset-search>
				        			</div>
					        	</div>
				        	</th>
				    	</tr>
				        <tr class="row">
				        	<th lr-drag-src="headers" lr-drop-target="headers" ng-repeat="column in attrVisibility.tracksColumns">
					            <div st-sort="countryCode" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.tracks.fs" ng-if="column === 'fs'">{{'spatial.tab_vms_pos_table_header_fs' | i18n }}</div>
					            <div st-sort="externalMarking" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.tracks.extMark" ng-if="column === 'extMark'">{{'spatial.tab_vms_pos_table_header_ext_mark' | i18n }}</div>
					            <div st-sort="ircs" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.tracks.ircs" ng-if="column === 'ircs'">{{'spatial.tab_vms_pos_table_header_ircs' | i18n }}</div>
					            <div st-sort="cfr" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.tracks.cfr" ng-if="column === 'cfr'">{{'spatial.tab_vms_pos_table_header_cfr' | i18n }}</div>
					            <div st-sort="name" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.tracks.name" ng-if="column === 'name'">{{'spatial.tab_vms_pos_table_header_name' | i18n }}</div>
					            <div st-sort="distance" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.tracks.dist" ng-if="column === 'dist'">{{'spatial.tab_vms_seg_table_header_distance' | i18n }}</div>
					            <div st-sort="duration" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.tracks.dur" ng-if="column === 'dur'">{{'spatial.tab_vms_seg_table_header_duration' | i18n }}</div>
					            <div st-sort="totalTimeAtSea" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-show="attrVisibility.tracks.timeSea" ng-if="column === 'timeSea'">{{'spatial.tab_vms_tracks_table_header_time_at_sea' | i18n }}</div>
					        </th>
				            <th style="min-width:80px;" ng-show="repNav.isViewVisible('mapPanel')">{{'spatial.table_header_actions' | i18n }}</th>
				        </tr>
				    </thead>
				    <tbody>
			    		<tr ng-if="!displayedTracks.length && !executedReport.isReportExecuting" class="row">
							<td colspan="9">{{'spatial.table_no_data' | i18n}}</td>
						</tr>
				        <tr ng-repeat="track in displayedTracks" class="row">
				        	<td ng-repeat="column in attrVisibility.tracksColumns">
					        	<div ng-show="attrVisibility.tracks.fs" ng-if="column === 'fs'">{{ track.countryCode }}</div>
					        	<div ng-show="attrVisibility.tracks.extMark" ng-if="column === 'extMark'">{{ track.externalMarking }}</div>
					            <div ng-show="attrVisibility.tracks.ircs" ng-if="column === 'ircs'">{{ track.ircs }}</div>
					            <div ng-show="attrVisibility.tracks.cfr" ng-if="column === 'cfr'">{{ track.cfr }}</div>
					            <div ng-show="attrVisibility.tracks.name" ng-if="column === 'name'">{{ track.name }}</div>
					            <div ng-show="attrVisibility.tracks.dist" ng-if="column === 'dist'">{{ track.distance | stDistanceUnit : 5 }}</div>
					            <div ng-show="attrVisibility.tracks.dur" ng-if="column === 'dur'">{{ track.duration | stHumanizeTime }}</div>
					            <div ng-show="attrVisibility.tracks.timeSea" ng-if="column === 'timeSea'">{{ track.totalTimeAtSea | stHumanizeTime: track }}</div>
				            </td>
				            <td style="min-width:80px;" ng-show="repNav.isViewVisible('mapPanel')">
				            	<button type="button" class="btn btn-default btn-xs btn-bottom-mg" title="{{'spatial.tab_vms_tracks_table_zoom_btn_title' | i18n }}" ng-click="zoomTo($index, 'TRACK')"><span class="fa fa-search-plus"></span></button>
				            	<button type="button" class="btn btn-default btn-xs btn-bottom-mg" title="{{'spatial.tab_vms_tracks_table_pan_btn_title' | i18n }}" ng-click="panTo($index, 'TRACK')"><span class="fa fa-crosshairs"></span></button>
				            </td>
				        </tr>
			    	</tbody>
				</table>
			</div>
			<div>
				<div st-pagination st-items-by-page="itemsByPageModal" st-template="partial/common/reportsPagination/reportsPagination.html"></div>
			</div>
		</div>
		
		<!-- ALARMS TABLE -->
		<div class="row" ng-show="isVmsTabSelected('ALARMS')" st-table="displayedAlarms" st-safe-src="executedReport.alarms" st-set-filter="stFieldSearchGeoJson">
			<div class="table-responsive-force">
				<table class="table table-striped table-condensed">
					<thead>
						<tr class="with-bottom-border row">
							<th colspan="9" class="table-tools">
								<i ng-click="toggleFiltersRow('alarms')">{{isAlarmFilterVisible === false ? 'spatial.table_filters_activate' : 'spatial.table_filters_deactivate' | i18n}}</i>
							</th>
							<th>
								<div class="btnTools btn btn-default btn-xs" ng-show="isAllowed('Reporting', 'EXPORT_VMS_REPORT_DATA')" st-export-data export-fn="exportAsCSV(vmsType, data)" vms-type="alarms">
									<i class="fa fa-download" title="{{'spatial.tab_vms_export_csv' | i18n}}"></i>
								</div>
							</th>
						</tr>
						<tr ng-show="isAlarmFilterVisible" class="no-border row">
							<th colspan="10">
								<div id="alarmFiltersForm{{isModal ? 'Modal' : ''}}" class="filter-form">
									<!-- FS -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.alarms.fs">
										<input name="fs" placeholder="{{'spatial.tab_vms_pos_table_header_fs' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_fs' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<!-- EXTMARK -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.alarms.extMark">
										<input name="extMark" placeholder="{{'spatial.tab_vms_pos_table_header_ext_mark' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_ext_mark' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<!-- IRCS -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.alarms.ircs">
										<input name="ircs" placeholder="{{'spatial.tab_vms_pos_table_header_ircs' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_ircs' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<!-- CFR -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.alarms.cfr">
										<input name="cfr" placeholder="{{'spatial.tab_vms_pos_table_header_cfr' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_cfr' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<!-- ASSET NAME -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.alarms.name">
										<input name="name" placeholder="{{'spatial.reports_form_details_modal_vessel_name_header' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.reports_form_details_modal_vessel_name_header' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<!-- RULE NAME -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.alarms.ruleName">
										<input name="ruleName" placeholder="{{'spatial.rule_table_header_name' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.rule_table_header_name' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<!-- RULE DESCRIPTION -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.alarms.ruleDesc">
										<input name="ruleDesc" placeholder="{{'spatial.rule_table_header_desc' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.rule_table_header_desc' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<!-- RULE OPEN DATE -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.alarms.ticketOpenDate">
										<datepicker-input time="true" model="alarmStartDate" max-date="alarmEndDate" placeholder="{{'spatial.table_filter_start_date' | i18n }}" ng-change-callback="resetDateTimePicker" input-field-id="alarm-panel-filter-start-date-picker{{isModal ? '-modal' : ''}}"></datepicker-input>
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.table_filter_start_date' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.alarms.ticketOpenDate">
										<datepicker-input time="true" model="alarmEndDate" min-date="alarmStartDate" placeholder="{{'spatial.table_filter_end_date' | i18n }}" ng-change-callback="resetDateTimePicker" input-field-id="alarm-panel-filter-end-date-picker{{isModal ? '-modal' : ''}}"></datepicker-input>
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.table_filter_end_date' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<!-- RULE STATUS -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.alarms.ticketStatus">
										<input name="ticketStatus" placeholder="{{'spatial.rule_status' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.rule_status' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<div class="col-md-12 vms-search-btns">
										<button type="button" class="btn btn-default" ng-click="getFilters('alarms')">
											<span class="fa fa-search"></span>&nbsp;
											<span>{{'spatial.reports_table_search_header' | i18n}}</span>
										</button>
										<input id="alarmsFilters{{isModal ? 'Modal' : ''}}" st-search="alarms" class="hidden-st-control" type="search">
										<st-reset-search form-id="alarmFiltersForm{{isModal ? 'Modal' : ''}}" clear-dates="clearDateFilters()"></st-reset-search>
				        			</div>
				        		</div>
							</th>
						</tr>
						<!-- HEADERS -->
				        <tr class="row">
							<th lr-drag-src="headers" lr-drop-target="headers" ng-repeat="key in attrVisibility.alarmsColumns" ng-class="{'text-center': key === 'ticketStatus'}" ng-if="key !== 'ticketUpdatedBy' && key !== 'ticketUpdateDate' && key !== 'ruleDefinitions'">
								<div st-sort="properties.fs" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="key === 'fs'">{{'spatial.tab_vms_pos_table_header_fs' | i18n }}</div>
								<div st-sort="properties.extMark" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="key === 'extMark'">{{'spatial.tab_vms_pos_table_header_ext_mark' | i18n }}</div>
								<div st-sort="properties.ircs" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="key === 'ircs'">{{'spatial.tab_vms_pos_table_header_ircs' | i18n }}</div>
								<div st-sort="properties.cfr" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="key === 'cfr'">{{'spatial.tab_vms_pos_table_header_cfr' | i18n }}</div>
								<div st-sort="properties.name" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="key === 'name'">{{'spatial.reports_form_details_modal_vessel_name_header' | i18n }}</div>
								<div st-sort="properties.ruleName" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="key === 'ruleName'">{{'spatial.rule_table_header_name' | i18n }}</div>
								<div st-sort="properties.ruleDesc" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="key === 'ruleDesc'">{{'spatial.rule_table_header_desc' | i18n }}</div>
								<div st-sort="properties.ticketOpenDate" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="key === 'ticketOpenDate'">{{'spatial.rule_open_date' | i18n }}</div>
								<div st-sort="properties.ticketStatus" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="key === 'ticketStatus'">{{'spatial.rule_status' | i18n }}</div>
							</th>
							<th style="min-width:120px;" ng-show="repNav.isViewVisible('mapPanel')">{{'spatial.table_header_actions' | i18n }}</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-if="!displayedAlarms.length && !executedReport.isReportExecuting" class="row">
							<td colspan="10">{{'spatial.table_no_data' | i18n}}</td>
						</tr>
						<tr ng-repeat="alarm in displayedAlarms" class="row">
							<td ng-repeat="key in attrVisibility.alarmsColumns" ng-class="{'text-center': key === 'ticketStatus'}" ng-if="key !== 'ticketUpdatedBy' && key !== 'ticketUpdateDate' && key !== 'ruleDefinitions'">
								<div ng-show="attrVisibility.alarms.fs" ng-if="key === 'fs'">{{ alarm.properties.fs }}</div>
								<div ng-show="attrVisibility.alarms.extMark" ng-if="key === 'extMark'">{{ alarm.properties.extMark }}</div>
								<div ng-show="attrVisibility.alarms.ircs" ng-if="key === 'ircs'">{{ alarm.properties.ircs }}</div>
								<div ng-show="attrVisibility.alarms.cfr" ng-if="key === 'cfr'">{{ alarm.properties.cfr }}</div>
								<div ng-show="attrVisibility.alarms.name" ng-if="key === 'name'">{{ alarm.properties.name }}</div>
								<div ng-show="attrVisibility.alarms.ruleName" ng-if="key === 'ruleName'">{{alarm.properties.ruleName}}</div>
								<div ng-show="attrVisibility.alarms.ruleDesc" ng-if="key === 'ruleDesc'">{{alarm.properties.ruleDesc}}</div>
								<div ng-show="attrVisibility.alarms.ticketOpenDate" ng-if="key === 'ticketOpenDate'">{{alarm.properties.ticketOpenDate | stDateUtc}}</div>
								<div ng-show="attrVisibility.alarms.ticketStatus" ng-if="key === 'ticketStatus'" class="alarm-status" ng-style="getAlarmColor(alarm.properties.ticketStatus)">{{ alarm.properties.ticketStatus }}</div>
							</td>
							<td style="min-width:120px;" ng-show="repNav.isViewVisible('mapPanel')">
								<alarms-preview record="alarm"></alarms-preview>
								<button type="button" class="btn btn-default btn-xs btn-bottom-mg" title="{{'spatial.tab_vms_alert_table_zoom_btn_title' | i18n }}" ng-click="zoomTo($index, 'ALARM')"><span class="fa fa-search-plus"></span></button>
								<button type="button" class="btn btn-default btn-xs btn-bottom-mg" title="{{'spatial.tab_vms_alert_table_pan_btn_title' | i18n }}" ng-click="panTo($index, 'ALARM')"><span class="fa fa-crosshairs"></span></button>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div>
				<div st-pagination st-items-by-page="itemsByPageModal" st-template="partial/common/reportsPagination/reportsPagination.html"></div>
			</div>
		</div>

		<!-- TRIPS TABLE -->
		<div class="row" ng-show="isVmsTabSelected('TRIPS')" st-table="displayedTrips" st-safe-src="executedReport.trips" st-set-filter="stFieldSearchGeoJson">
			<div class="table-responsive-force">
				<table class="table table-striped table-condensed">
					<thead>
						<tr class="with-bottom-border row">
							<th colspan="15" class="table-tools">
								<i ng-click="toggleFiltersRow('trips')">{{isTripFilterVisible === false ? 'spatial.table_filters_activate' : 'spatial.table_filters_deactivate' | i18n}}</i>
							</th>
							<th>
								<div class="btnTools btn btn-default btn-xs" ng-show="isAllowed('Activity', 'EXPORT_ACTIVITY_DATA')" st-export-data export-fn="exportAsCSV(vmsType, data)" vms-type="trips">
									<i class="fa fa-download" title="{{'spatial.tab_vms_export_csv' | i18n}}"></i>
								</div>
							</th>
						</tr>
						<tr ng-show="isTripFilterVisible" class="no-border-row">
							<th colspan="17">
								<div id="tripFiltersForm{{isModal ? 'Modal': ''}}" class="filter-form">
									<!-- TRIPID -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.trips.fs">
										<input name="tripId" placeholder="{{'activity.tab_trip_table_header_id' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'activity.tab_trip_table_header_id' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<!-- FLAG STATE -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.trips.fs">
										<input name="flagState" placeholder="{{'spatial.tab_vms_pos_table_header_fs' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_fs' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<!-- EXT MARK -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.trips.extMark">
										<input name="EXT_MARK" placeholder="{{'spatial.tab_vms_pos_table_header_ext_mark' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_ext_mark' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<!-- IRCS -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.trips.ircs">
										<input name="IRCS" placeholder="{{'spatial.tab_vms_pos_table_header_ircs' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_ircs' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<!-- CFR -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.trips.cfr">
										<input name="CFR" placeholder="{{'spatial.tab_vms_pos_table_header_cfr' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_pos_table_header_cfr' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<!-- UVI -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.trips.uvi">
										<input name="UVI" placeholder="{{'activity.fa_details_item_uvi' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'activity.fa_details_item_uvi' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<!-- ICCAT -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.trips.iccat">
										<input name="ICCAT" placeholder="{{'activity.fa_details_item_iccat' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'activity.fa_details_item_iccat' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<!-- GFCM -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.trips.gfcm">
										<input name="GFCM" placeholder="{{'activity.fa_details_item_gfcm' | i18n }}" class="input-sm form-control" type="search">
										<a href="" qtip at="top left" my="bottom right" content="{{'activity.fa_details_item_gfcm' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<!-- FIRST EVENT TYPE -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.trips.firstEventType">
								        <combobox name="firstFishingActivity" ng-model="firstFishingActivityType" items="activityTypes" list-class="filter-combo" initialtext="{{'activity.tab_trip_table_header_first_event' | i18n}}" ></combobox>
								        <a href="" qtip at="top left" my="bottom right" content="{{'activity.tab_trip_table_header_first_event' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
								    </div>
									<!-- LAST EVENT TYPE -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.trips.lastEventType">
								        <combobox name="lastFishingActivity" ng-model="lastFishingActivityType" items="activityTypes" list-class="filter-combo" initialtext="{{'activity.tab_trip_table_header_last_event' | i18n}}" ></combobox>
								        <a href="" qtip at="top left" my="bottom right" content="{{'activity.tab_trip_table_header_last_event' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
								    </div>
									<!-- FIRST EVENT DATE-->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.trips.firstEventTime">
										<datepicker-input time="true" model="firstEventDate" max-date="lastEventDate" placeholder="{{'spatial.table_filter_start_at' | i18n }}" ng-change-callback="resetDateTimePicker" input-field-id="trip-panel-filter-start-date-picker{{isModal ? '-modal' : ''}}"></datepicker-input>
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.table_filter_start_at' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									<!-- LAST EVENT DATE-->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.trips.lastEventTime">
										<datepicker-input time="true" model="lastEventDate" min-date="firstEventDate" placeholder="{{'spatial.table_filter_finish_at' | i18n }}" ng-change-callback="resetDateTimePicker" input-field-id="trip-panel-filter-end-date-picker{{isModal ? '-modal' : ''}}"></datepicker-input>
										<a href="" qtip at="top left" my="bottom right" content="{{'spatial.table_filter_finish_at' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
									</div>
									
									<!-- DURATION -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.trips.duration">
					        			<input name="duration" placeholder="{{'spatial.tab_vms_seg_table_header_duration' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'spatial.tab_vms_seg_table_header_duration' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
									
									<!-- CORRECTIONS -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.trips.nCorrections">
					        			<input name="noOfCorrections" placeholder="{{'activity.tab_trip_table_header_nCorrections' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'activity.tab_trip_table_header_nCorrections' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
									
									<!-- POSITIONS -->
									<div class="col-md-2 st-table-filters" ng-show="attrVisibility.trips.nCorrections">
					        			<input name="vmsPositionCount" placeholder="{{'activity.tab_trip_table_header_nPositions' | i18n }}" class="input-sm form-control" type="search">
					        			<a href="" qtip at="top left" my="bottom right" content="{{'activity.tab_trip_table_header_nPositions' | i18n }}" class="info-qtip qtip-blue"><i class="fa fa-question-circle"></i></a>
					        		</div>
									
									<div class="col-md-12 vms-search-btns">
										<button type="button" class="btn btn-default" ng-click="getFilters('trip')">
											<span class="fa fa-search"></span>&nbsp;
											<span>{{'spatial.reports_table_search_header' | i18n}}</span>
										</button>
										<input id="tripFilters{{isModal ? 'Modal' : ''}}" st-search="trips" class="hidden-st-control" type="search">
										<st-reset-search form-id="tripFiltersForm{{isModal ? 'Modal' : ''}}" clear-dates="clearDateFilters()" clear-combos="clearComboFilters()"></st-reset-search>
				        			</div>
								</div>
							</th>
						</tr>
						<tr class="row">
							<th lr-drag-src="headers" lr-drop-target="headers" ng-repeat="column in attrVisibility.tripsColumns" ng-show="attrVisibility.trips[column]" lr-drop-success="dropSuccess(e, item, collection)">
								<div st-sort="tripIdSort" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="column === 'tripId'">{{'activity.tab_trip_table_header_id' | i18n }}</div>
								<div st-sort="flagState" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="column === 'fs'">{{'spatial.tab_vms_pos_table_header_fs' | i18n }}</div>
								<div st-sort="EXT_MARK" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="column === 'extMark'">{{'spatial.reports_form_vessel_search_table_header_external_marking' | i18n }}</div>
								<div st-sort="IRCS" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="column === 'ircs'">{{'spatial.reports_form_vessel_search_table_header_ircs' | i18n }}</div>
								<div st-sort="CFR" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="column === 'cfr'">{{'spatial.reports_form_vessel_search_table_header_cfr' | i18n }}</div>
								<div st-sort="UVI" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="column === 'uvi'">{{'activity.fa_details_item_uvi' | i18n }}</div>
								<div st-sort="ICCAT" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="column === 'iccat'">{{'activity.fa_details_item_iccat' | i18n }}</div>
								<div st-sort="GFCM" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="column === 'gfcm'">{{'activity.fa_details_item_gfcm' | i18n }}</div>
								<div st-sort="firstFishingActivity" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="column === 'firstEventType'">{{'activity.tab_trip_table_header_first_event' | i18n }}</div>
								<div st-sort="firstFishingActivityDateTime" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="column === 'firstEventTime'">{{'activity.tab_trip_table_header_first_event_time' | i18n }}</div>
								<div st-sort="lastFishingActivity" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="column === 'lastEventType'">{{'activity.tab_trip_table_header_last_event' | i18n }}</div>
								<div st-sort="lastFishingActivityDateTime" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="column === 'lastEventTime'">{{'activity.tab_trip_table_header_last_event_time' | i18n }}</div>
								<div st-sort="tripDuration" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="column === 'duration'">{{'activity.tab_trip_table_header_duration' | i18n }}</div>
								<div st-sort="noOfCorrections" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="column === 'nCorrections'">{{'activity.tab_trip_table_header_nCorrections' | i18n }}</div>
								<div st-sort="vmsPositionCount" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="column === 'nPositions'">{{'activity.tab_trip_table_header_nPositions' | i18n }}</div>
								<div st-sort="alarm" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" ng-if="column === 'alarm'">{{'activity.tab_trip_table_header_alarm' | i18n }}</div>
							</th>
							<th style="width:80px" ng-show="repNav.isViewVisible('mapPanel')">{{'spatial.table_header_actions' | i18n }}</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-if="!displayedTrips.length && !executedReport.isReportExecuting" class="row">
							<td colspan="17">{{'spatial.table_no_data' | i18n}}</td>
						</tr>
						<tr ng-repeat="trip in displayedTrips" class="row">
							<td ng-repeat="column in attrVisibility.tripsColumns" ng-show="attrVisibility.trips[column]">
								<div ng-show="attrVisibility.trips.tripId" ng-if="column === 'tripId'">{{ trip.schemeId}}:{{ trip.tripId }}</div>
								<div ng-show="attrVisibility.trips.fs" ng-if="column === 'fs'">{{ trip.flagState}}</div>
								<div ng-show="attrVisibility.trips.extMark" ng-if="column === 'extMark'">{{ trip.EXT_MARK }}</div>
								<div ng-show="attrVisibility.trips.cfr" ng-if="column === 'cfr'">{{ trip.CFR }}</div>
								<div ng-show="attrVisibility.trips.ircs" ng-if="column === 'ircs'">{{ trip.IRCS }}</div>
								<div ng-show="attrVisibility.trips.uvi" ng-if="column === 'uvi'">{{ trip.UVI }}</div>
								<div ng-show="attrVisibility.trips.iccat" ng-if="column === 'iccat'">{{ trip.ICCAT }}</div>
								<div ng-show="attrVisibility.trips.gfcm" ng-if="column === 'gfcm'">{{ trip.GFCM }}</div>
								<div ng-show="attrVisibility.trips.firstEventType" ng-if="column === 'firstEventType'" title="{{trip.firstFishingActivity}}">{{ 'abbreviations.activity_' + trip.firstFishingActivity | i18n }}</div>
								<div ng-show="attrVisibility.trips.firstEventTime" ng-if="column === 'firstEventTime'">{{ trip.firstFishingActivityDateTime | stDateUtc }}</div>
								<div ng-show="attrVisibility.trips.lastEventType" ng-if="column === 'lastEventType'" title="{{trip.lastFishingActivity}}">{{ 'abbreviations.activity_' + trip.lastFishingActivity | i18n }}</div>
								<div ng-show="attrVisibility.trips.lastEventTime" ng-if="column === 'lastEventTime'">{{ trip.lastFishingActivityDateTime | stDateUtc }}</div>
								<div ng-show="attrVisibility.trips.duration" ng-if="column === 'duration'">{{ trip.tripDuration  | stHumanizeTime }}</div>
								<div ng-show="attrVisibility.trips.nCorrections" ng-if="column === 'nCorrections'">{{ trip.noOfCorrections }}</div>
								<div ng-show="attrVisibility.trips.nPositions" ng-if="column === 'nPositions'">{{ trip.vmsPositionCount }}</div>
								<div ng-show="attrVisibility.trips.alarm" ng-if="column === 'alarm'">
									<a title="{{'spatial.alarm_raised'}}" ng-if="trip.alarm">
										<i class="fa fa-exclamation-triangle alarms-icon"></i>
									</a>
								</div>
							</td>
							<td style="width:80px">
								<button type="button" class="btn btn-default btn-xs btn-bottom-mg" title="{{'spatial.tab_vms_trip_table_zoom_btn_title' | i18n }}" ng-click="zoomTo($index, 'TRIP')"><span class="fa fa-search-plus"></span></button>
								<button type="button" class="btn btn-default btn-xs btn-bottom-mg" title="Details" ng-click="openTripSummary(trip.tripId)"><span class="fa fa-eye"></span></button>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div>
				<div st-pagination st-items-by-page="itemsByPageModal" st-template="partial/common/reportsPagination/reportsPagination.html"></div>
			</div>
		</div>
		<!-- END -->
    </div>
    <div class="modal-footer" ng-hide="modalCollapsed" ng-if="isModal">
        <div class="row">
        	<div class="col-md-12">
        		<button class="btn btn-default btn-action" type="button" ng-click="cancel()">{{'common.cancel' | i18n}}</button>
        	</div>
        </div>
    </div>
</div>